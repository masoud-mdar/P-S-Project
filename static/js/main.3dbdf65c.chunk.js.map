{"version":3,"sources":["components/LoadPage.js","components/MainPage.js","components/ListPage.js","components/MoreInfo.js","components/Panier.js","components/Navbar.js","components/PopUp.js","components/Footer.js","logic/totalPriceCalculator.js","logic/bookListFetcher.js","logic/offersFetcher.js","utils/constants.js","components/App.js","index.js"],"names":["LoadPage","className","MainPage","props","name","onClick","data","handleClick","ListPage","booksList","map","book","src","cover","alt","title","price","id","isbn","MoreInfo","selectedBookInfo","find","selectedBook","synopsis","isShowMore","length","item","index","Math","random","Panier","panier","totalPrice","bestPrice","offers","appliedOffer","num","type","sliceValue","value","href","target","rel","Navbar","isMainPage","isListPage","isPanier","selectedStyle","howMany","forEach","style","PopUp","Footer","totalPriceCalculator","setTotalPrice","add","prevTotalPrice","booksListFetcher","setIsLoading","setIsListPage","setIsMainPage","setIsPanier","setSelectedBook","setBooksList","panierPopUp","BASE_URL","fetch","then","response","json","offersFetcher","setAppliedOffer","setBestPrice","setOffers","setIsMoreInfo","setIsShowMore","url","pendingPrice","total","percMoney","howMuchSlice","floor","App","useState","isLoading","isMoreInfo","setPanier","setPanierPopUp","Event","i","findIndex","prevPanier","push","tempArr","splice","setTimeout","newPrice","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3dbdf65c.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst LoadPage = () => {\r\n\r\n    return (\r\n        <div className=\"loading\">\r\n            <div>\r\n                <h1>Just a second...</h1>\r\n            </div>\r\n            <div className=\"loader\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadPage","import React from \"react\"\r\n\r\nconst MainPage = (props) => {\r\n\r\n    return (\r\n\r\n        <div className=\"main-page\">\r\n            <div className=\"btn-wrapper\">\r\n                <button name=\"book-list\" onClick={props.data.handleClick} className=\"main-btn\">Book List</button>\r\n                <button name=\"panier\" onClick={props.data.handleClick} className=\"main-btn\">Cart</button>\r\n            </div>\r\n            <div className=\"smile\"></div>\r\n        </div> \r\n    )\r\n}\r\n\r\n\r\nexport default MainPage","import React from \"react\"\r\n\r\nconst ListPage = (props) => {\r\n\r\n    const {booksList} = props.data\r\n\r\n\r\n\r\n    return (\r\n\r\n        <div className=\"list-page\">\r\n            <ul className=\"book-list\">\r\n                {\r\n                    booksList && (\r\n\r\n                        booksList.map(book => {\r\n\r\n                            return (\r\n                                <li className=\"book\" key={book.isbn}>\r\n                                    <img className=\"book-cover\" src={`${book.cover}`} alt={book.title}></img>\r\n                                    <div className=\"book-hover-div\">\r\n                                        <h5 className=\"book-title\">\r\n                                            {book.title}\r\n                                        </h5>\r\n                                        <h5>\r\n                                            {book.price} €\r\n                                        </h5>\r\n                                        <div className=\"book-btn-wrapper\">\r\n                                            <button name=\"add-to-panier\" onClick={props.data.handleClick} id={book.isbn}>Add to Cart</button>\r\n                                            <button name=\"more-info\" onClick={props.data.handleClick} id={book.isbn}>More info</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                            )\r\n                            \r\n                        })\r\n                    )\r\n                }\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListPage","import React from \"react\"\r\n\r\nconst MoreInfo = (props) => {\r\n\r\n    let selectedBookInfo = props.data.booksList.find(book => {\r\n        if (book.isbn === props.data.selectedBook) {\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"more-info\">\r\n\r\n            <button name=\"synopsis-close\" className=\"close-btn\" onClick={props.data.handleClick}>X</button>\r\n\r\n            <div className=\"synopsis-wrapper\">\r\n\r\n                <h4>\r\n                    {selectedBookInfo.title}\r\n                </h4>\r\n                <h5>\r\n                    {selectedBookInfo.price} €\r\n                </h5>\r\n\r\n                <p className=\"synopsis-first\">{selectedBookInfo.synopsis[0]}</p>\r\n\r\n                {\r\n                    props.data.isShowMore && selectedBookInfo.synopsis.length > 1 ? (\r\n\r\n                        <div>\r\n                            <ul className=\"synopsis-list\">\r\n                                {\r\n                                    selectedBookInfo.synopsis.map((item, index) => {\r\n\r\n                                        if (index === 0) {\r\n\r\n                                            return (<li key={Math.random()}><p>...</p></li>)\r\n\r\n                                        } else {\r\n\r\n                                            return (\r\n                                                <li key={Math.random()}>\r\n                                                    <p>\r\n                                                        {item}\r\n                                                    </p>\r\n                                                </li>\r\n                                            )\r\n                                        }\r\n                                    })\r\n                                }\r\n                            </ul>\r\n\r\n                            <button name=\"show-less\" className=\"synop-btn\" onClick={props.data.handleClick}>show less...</button>\r\n\r\n                        </div>\r\n\r\n                    ) : selectedBookInfo.synopsis.length > 1 ? (\r\n\r\n                        <div>\r\n                            <button name=\"show-more\" className=\"synop-btn\" onClick={props.data.handleClick}>show more...</button>\r\n                        </div>\r\n\r\n                    ) : (\r\n\r\n                        <div></div>\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default MoreInfo","import React from \"react\"\r\n\r\nconst Panier = (props) => {\r\n\r\n    const {panier, booksList, totalPrice, bestPrice, offers, appliedOffer} = props.data\r\n\r\n    return (\r\n        <div className=\"panier\">\r\n            {\r\n                !panier.length ? (\r\n\r\n                    <div className=\"empty-cart\">\r\n                        <h2>\r\n                            Nothing here yet !\r\n                        </h2>\r\n\r\n                        <button name=\"book-list\" onClick={props.data.handleClick} className=\"main-btn\">Book List</button>\r\n                    </div>\r\n\r\n                ) : (\r\n\r\n                    <div className=\"full-cart\">\r\n                        <ul className=\"panier-list\">\r\n                            {\r\n                                panier.map(item => {\r\n                                    let num = item.num\r\n                                    let book = booksList.find(book => {\r\n                                        if (book.isbn === item.isbn) {\r\n                                            return true\r\n                                        } else return false\r\n                                    })\r\n\r\n                                    return (\r\n                                        <li className=\"book panier-book\" key={book.isbn}>\r\n                                            <img className=\"book-cover\" src={`${book.cover}`} alt={book.title}></img>\r\n                                            <div className=\"book-hover-div\">\r\n                                                <h5 className=\"book-title\">\r\n                                                    {book.title}\r\n                                                </h5>\r\n                                                <h3>\r\n                                                    {book.price} €\r\n                                                </h3>\r\n                                                <h3>\r\n                                                    {num}\r\n                                                </h3>\r\n                                                <div className=\"book-btn-wrapper\">\r\n                                                    <button name=\"remove-from-panier\" onClick={props.data.handleClick} id={book.isbn}>Remove</button>\r\n                                                    <button name=\"more-info\" onClick={props.data.handleClick} id={book.isbn}>More info</button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </li>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </ul>\r\n                        <div className=\"panier-price\">\r\n                            <h3>\r\n                                Total Price without reduction: {totalPrice} €\r\n                            </h3>\r\n\r\n                            <div className=\"offers-panier\">\r\n                                <h3>\r\n                                    The offers available for this cart:\r\n                                </h3>\r\n                                <ul className=\"price-list\">\r\n                                    {\r\n                                        offers.offers.map(item => {\r\n                                            return (\r\n                                                <li key={Math.random() * Math.random()}>\r\n                                                    {\r\n                                                        (item.type !== \"slice\") || (item.type === \"slice\" && totalPrice >= item.sliceValue) ? (\r\n                                                            <div>\r\n                                                                <p>\r\n                                                                    Type of offer: {item.type}\r\n                                                                </p>\r\n                                                                <p>\r\n                                                                    Value of offer: {item.value} {item.type === \"percentage\" ? \"%\" : \"€\"}\r\n                                                                </p>                                                              \r\n                                                            </div>\r\n                                                        ) : (\r\n                                                            <div></div>\r\n                                                        )\r\n                                                    }\r\n\r\n                                                </li>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </ul>\r\n                            </div>\r\n                            <h3>\r\n                                Applied offer: {appliedOffer}\r\n                            </h3>\r\n                            <h3>\r\n                                Total Price after applying the best reduction: {bestPrice} €\r\n                            </h3>\r\n                            <a href=\"https://personal-library-masoud.netlify.app\" target=\"_blank\" rel=\"noreferrer\">Try out our Personal Library application</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Panier","import React from \"react\"\r\n\r\nconst Navbar = (props) => {\r\n\r\n    const {isMainPage, isListPage, isPanier, panier} = props.data\r\n\r\n    const selectedStyle = {\"color\": \"brown\"}\r\n\r\n    let howMany = 0\r\n\r\n    if (panier.length) {\r\n        panier.forEach(book => {\r\n            howMany += book.num\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"nav-bar\">\r\n            <div className=\"left-nav\">\r\n                <h2 className=\"nav-title\">\r\n                    Henri Potier\r\n                </h2>\r\n            </div>\r\n            <div className=\"right-nav\">\r\n                <div className=\"nav-btn-wrapper\">\r\n                    <button name=\"nav-home-btn\" onClick={props.data.handleClick} style={isMainPage ? selectedStyle : {}} className=\"nav-btn\">Home</button>\r\n                    <button name=\"book-list\" onClick={props.data.handleClick} style={isListPage ? selectedStyle : {}} className=\"nav-btn\">List</button>\r\n                    <button name=\"panier\" onClick={props.data.handleClick} style={isPanier ? selectedStyle : {}} className=\"nav-btn\">Cart</button>\r\n                    <div className=\"nav-panier-counter\">\r\n                        {howMany ? howMany : \"\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar","import React from \"react\"\r\n\r\nconst PopUp = (props) => {\r\n\r\n    let selectedBookInfo = props.data.booksList.find(book => {\r\n        if (book.isbn === props.data.selectedBook) {\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"pop-up\">\r\n            <h4>\r\n                {selectedBookInfo.title} successfully added to the Cart !\r\n            </h4>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopUp","import React from \"react\"\r\n\r\nconst Footer = () => {\r\n\r\n    return (\r\n        <div className=\"footer\">\r\n            <div className=\"left-part\">\r\n                <h3>\r\n                    Masoud Mohammadi Darvishvand\r\n                </h3>\r\n            </div>\r\n            <div className=\"right-part\">\r\n                <a href=\"https://github.com/masoud-mdar\" target=\"_blank\" rel=\"noreferrer\">GitHub</a>\r\n                <a href=\"https://masoud-mdar.github.io/portfolio\" target=\"_blank\" rel=\"noreferrer\">Portfolio</a>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer","const totalPriceCalculator = (booksList, id, totalPrice, setTotalPrice, add) => {\r\n\r\n    let book = booksList.find(book => {\r\n        if (book.isbn === id) {\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    })\r\n\r\n    if (add) {\r\n        setTotalPrice(prevTotalPrice => prevTotalPrice += book.price)\r\n        return (totalPrice + book.price)\r\n    } else {\r\n        setTotalPrice(prevTotalPrice => prevTotalPrice -= book.price)\r\n        return (totalPrice - book.price)\r\n    }\r\n\r\n    \r\n}\r\n\r\nexport default totalPriceCalculator","const booksListFetcher = (setIsLoading, setIsListPage, setIsMainPage, setIsPanier, setSelectedBook, setBooksList, panierPopUp, BASE_URL) => {\r\n\r\n    setIsLoading(true)\r\n\r\n    fetch(BASE_URL)\r\n\r\n        .then(response => response.json())\r\n        .then(data => {\r\n\r\n            setIsLoading(false)\r\n            setIsListPage(true)\r\n            setIsMainPage(false)\r\n            setIsPanier(false)\r\n            !panierPopUp && setSelectedBook(\"\")\r\n\r\n            setBooksList(data)\r\n        })\r\n\r\n}\r\n\r\nexport default booksListFetcher","const offersFetcher = (setIsLoading, setAppliedOffer, setBestPrice, setOffers, setIsPanier, setIsMainPage, setIsListPage, setIsMoreInfo, setIsShowMore, setSelectedBook, BASE_URL, url, totalPrice, panierPopUp, add ) => {\r\n    setIsLoading(true)\r\n\r\n    fetch(`${BASE_URL}/${url}/commercialOffers`)\r\n\r\n        .then(response => response.json())\r\n        .then(data => {\r\n\r\n            ///// ***** find the best offer ***** /////\r\n\r\n            let pendingPrice = totalPrice\r\n            let total = 0\r\n            data.offers.forEach(item => {\r\n\r\n                if (item.type === \"percentage\") {\r\n\r\n                    let percMoney = totalPrice * (item.value/100)\r\n                    total = totalPrice - percMoney\r\n                    if (total < pendingPrice) {\r\n                        pendingPrice = total\r\n                        setAppliedOffer(item.type)\r\n                    }\r\n\r\n                } else if (item.type === \"minus\") {\r\n\r\n                    total = totalPrice - (item.value)\r\n                    if (total < pendingPrice) {\r\n                        pendingPrice = total\r\n                        setAppliedOffer(item.type)\r\n                    }\r\n\r\n                } else if (item.type === \"slice\" && totalPrice >= item.sliceValue) {\r\n\r\n                    let howMuchSlice = Math.floor(totalPrice/item.sliceValue)\r\n                    howMuchSlice *= item.value\r\n                    total = totalPrice - howMuchSlice\r\n                    if (total < pendingPrice) {\r\n                        pendingPrice = total\r\n                        setAppliedOffer(item.type)\r\n                    }\r\n                }\r\n\r\n                setBestPrice(pendingPrice)\r\n\r\n                setOffers(data)\r\n\r\n                setIsLoading(false)\r\n    \r\n                setIsPanier(false)\r\n                setIsMainPage(true)\r\n                setIsListPage(false)\r\n                setIsMoreInfo(false)\r\n                setIsShowMore(false)\r\n            })\r\n\r\n            setIsPanier(true)\r\n            setIsMainPage(false)\r\n\r\n            ///// ***** /////\r\n\r\n\r\n\r\n            if (add) {\r\n\r\n                !panierPopUp && setSelectedBook(\"\")\r\n            }\r\n        })\r\n}\r\n\r\nexport default offersFetcher","export const BASE_URL = \"https://henri-potier.techx.fr/books\"","import React, {useState} from \"react\"\r\n\r\nimport LoadPage from \"./LoadPage\"\r\nimport MainPage from \"./MainPage\"\r\nimport ListPage from \"./ListPage\"\r\nimport MoreInfo from \"./MoreInfo\"\r\nimport Panier from \"./Panier\"\r\nimport Navbar from \"./Navbar\"\r\nimport PopUp from \"./PopUp\"\r\nimport Footer from \"./Footer\"\r\n\r\nimport totalPriceCalculator from \"../logic/totalPriceCalculator\"\r\nimport booksListFetcher from \"../logic/bookListFetcher\"\r\nimport offersFetcher from \"../logic/offersFetcher\"\r\n\r\nimport {BASE_URL} from \"../utils/constants\"\r\n\r\nconst App = () => {\r\n\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [isMainPage, setIsMainPage] = useState(true)\r\n    const [isListPage, setIsListPage] = useState(false)\r\n    const [isPanier, setIsPanier] = useState(false)\r\n    const [booksList, setBooksList] = useState([])\r\n    const [isMoreInfo, setIsMoreInfo] = useState(false)\r\n    const [selectedBook, setSelectedBook] = useState(\"\")\r\n    const [isShowMore, setIsShowMore] = useState(false)\r\n    const [panier, setPanier] = useState([])\r\n    const [panierPopUp, setPanierPopUp] = useState(false)\r\n    const [offers, setOffers] = useState({})\r\n    const [totalPrice, setTotalPrice] = useState(0)\r\n    const [bestPrice, setBestPrice] = useState(0)\r\n    const [appliedOffer, setAppliedOffer] = useState(\"\")\r\n\r\n    const handleClick = (Event) => {\r\n\r\n        const {name, id} = Event.target\r\n\r\n        switch (name) {\r\n\r\n            case \"book-list\" :\r\n\r\n                if (!booksList.length) {\r\n\r\n                    booksListFetcher(setIsLoading, setIsListPage, setIsMainPage, setIsPanier, setSelectedBook, setBooksList, panierPopUp, BASE_URL)\r\n\r\n                } else {\r\n\r\n                    setIsListPage(true)\r\n                    setIsMainPage(false)\r\n                    setIsPanier(false)\r\n                    !panierPopUp && setSelectedBook(\"\")\r\n                }\r\n                break\r\n\r\n            case \"panier\" :\r\n\r\n                if (!isPanier && panier.length) {\r\n\r\n                    ///// ***** find the best offer ***** /////\r\n\r\n                    // https://henri-potier.techx.fr/books/{ISBN1, ISBN2, ...}/commercialOffers\r\n\r\n                    let url = \"\"\r\n\r\n                    panier.forEach(item => {\r\n                        for (let i=0; i<item.num; i++) {\r\n                            if (url === \"\") {\r\n                                url += item.isbn\r\n                            } else {\r\n                                url += `,${item.isbn}`\r\n                            }\r\n                        }\r\n                    })\r\n\r\n                    offersFetcher(setIsLoading, setAppliedOffer, setBestPrice, setOffers, setIsPanier, setIsMainPage, setIsListPage, setIsMoreInfo, setIsShowMore, setSelectedBook, BASE_URL, url, totalPrice, panierPopUp, true)\r\n\r\n                } else if (!panier.length) {\r\n\r\n                    setIsPanier(true)\r\n                    setIsMainPage(false)\r\n                    setIsListPage(false)\r\n                    setIsMoreInfo(false)\r\n                    setIsShowMore(false)\r\n                    !panierPopUp && setSelectedBook(\"\")\r\n                }\r\n                break\r\n\r\n            case \"more-info\" :\r\n                setIsMoreInfo(true)\r\n                setSelectedBook(id)\r\n                break\r\n\r\n            case \"show-more\" :\r\n                setIsShowMore(true)\r\n                break\r\n\r\n            case \"show-less\" :\r\n                setIsShowMore(false)\r\n                break\r\n\r\n            case \"synopsis-close\" :\r\n                setIsMoreInfo(false)\r\n                setIsShowMore(false)\r\n                !panierPopUp && setSelectedBook(\"\")\r\n                break\r\n\r\n            case \"add-to-panier\" :\r\n\r\n                // panier's format: [{isbn:\"\", num: int}, {...}, ...]\r\n\r\n                if (!panierPopUp) {\r\n\r\n                    if (panier.length) {\r\n\r\n                        let index = panier.findIndex(item => {\r\n                            return item.isbn === id\r\n                        })\r\n\r\n                        if (index < 0) {\r\n\r\n                            setPanier(prevPanier => {\r\n                                prevPanier.push({isbn: id, num: 1})\r\n                                return prevPanier\r\n                            })\r\n\r\n                        } else {\r\n\r\n                            let tempArr = [...panier]\r\n                            let book = tempArr[index]\r\n                            book.num = book.num + 1\r\n\r\n                            tempArr.splice(index, 1, book)\r\n\r\n                            setPanier(tempArr) \r\n                        }\r\n\r\n                    } else {\r\n\r\n                        setPanier(prevPanier => {\r\n                            prevPanier.push({isbn: id, num: 1})\r\n                            return prevPanier\r\n                        })                    \r\n                    }\r\n\r\n                    ////// ***** total price ***** /////\r\n                    totalPriceCalculator(booksList, id, totalPrice, setTotalPrice, true)\r\n                }\r\n\r\n                setIsShowMore(false)\r\n                setIsMoreInfo(false)\r\n\r\n                setSelectedBook(id)\r\n                setPanierPopUp(true)\r\n\r\n                setTimeout(() => {\r\n                    setPanierPopUp(false)\r\n                }, 1000)\r\n\r\n                break\r\n\r\n            case \"nav-home-btn\" :\r\n                setIsMainPage(true)\r\n                setIsMoreInfo(false)\r\n                setIsShowMore(false)\r\n                setIsPanier(false)\r\n                setIsListPage(false)\r\n                !panierPopUp && setSelectedBook(\"\")\r\n                break\r\n\r\n            case \"remove-from-panier\" :\r\n\r\n                let index = panier.findIndex(item => {\r\n                    return item.isbn === id\r\n                })\r\n\r\n                let tempArr = [...panier]\r\n\r\n                let book = tempArr[index] \r\n\r\n                if (book.num > 1) {\r\n\r\n                    book.num = book.num - 1\r\n\r\n                    tempArr.splice(index, 1, book)\r\n\r\n                } else {\r\n                    tempArr.splice(index, 1)\r\n                }\r\n\r\n                setPanier(tempArr)\r\n\r\n                if (tempArr.length) {\r\n\r\n                    ////// ***** total price ***** //////\r\n                    let newPrice = totalPriceCalculator(booksList, id, totalPrice, setTotalPrice, false)\r\n                    //////// ***** //////\r\n\r\n                    ///// ***** find the best offer ***** /////\r\n\r\n                    let url = \"\"\r\n\r\n                    tempArr.forEach(item => {\r\n                        for (let i=0; i<item.num; i++) {\r\n                            if (url === \"\") {\r\n                                url += item.isbn\r\n                            } else {\r\n                                url += `,${item.isbn}`\r\n                            }\r\n                        }\r\n                    })\r\n\r\n                    offersFetcher(setIsLoading, setAppliedOffer, setBestPrice, setOffers, setIsPanier, setIsMainPage, setIsListPage, setIsMoreInfo, setIsShowMore, setSelectedBook, BASE_URL, url, newPrice, panierPopUp, false)\r\n\r\n                } else {\r\n                    setTotalPrice(0)\r\n                }\r\n                break\r\n\r\n            default :\r\n                console.log(name)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                isLoading ? (\r\n                    <LoadPage />\r\n                ) : (\r\n                    <div className=\"container\">\r\n\r\n                        <Navbar\r\n                            data={{\r\n                                handleClick: handleClick,\r\n                                panier: panier,\r\n                                isMainPage: isMainPage,\r\n                                isListPage: isListPage,\r\n                                isPanier: isPanier\r\n                            }}\r\n                        />\r\n                        {\r\n                            isMainPage ? (\r\n                                    \r\n                                <MainPage\r\n                                    data={{\r\n                                        handleClick: handleClick\r\n                                    }}\r\n                                />\r\n\r\n                            ) : isListPage ? (\r\n\r\n                                <ListPage\r\n                                    data={{\r\n                                        handleClick: handleClick,\r\n                                        booksList: booksList\r\n                                    }}\r\n                                />\r\n\r\n                            ) : isPanier ? (\r\n\r\n                                <Panier\r\n                                    data={{\r\n                                        handleClick: handleClick,\r\n                                        panier: panier,\r\n                                        booksList: booksList,\r\n                                        totalPrice: totalPrice,\r\n                                        bestPrice: bestPrice,\r\n                                        offers: offers,\r\n                                        appliedOffer: appliedOffer\r\n                                    }}\r\n                                />\r\n\r\n                            ) : (\r\n                                <div></div>\r\n                            )\r\n                        }\r\n                        {\r\n                            isMoreInfo && (\r\n                                <MoreInfo\r\n                                    data={{\r\n                                        handleClick: handleClick,\r\n                                        selectedBook: selectedBook,\r\n                                        booksList: booksList,\r\n                                        isShowMore: isShowMore\r\n                                    }}\r\n                                />\r\n                            )\r\n                        }\r\n                        {\r\n                            panierPopUp && (\r\n                                <PopUp\r\n                                    data={{\r\n                                        selectedBook: selectedBook,\r\n                                        booksList: booksList\r\n                                    }}\r\n                                />\r\n                            )\r\n                        }\r\n                        <Footer/>\r\n                    </div>        \r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\n\r\nimport App from \"./components/App\"\r\n\r\nimport \"./styles/styles.css\"\r\nimport \"./styles/mainPage.css\"\r\nimport \"./styles/navBar.css\"\r\nimport \"./styles/listPage.css\"\r\nimport \"./styles/moreInfo.css\"\r\nimport \"./styles/panier.css\"\r\nimport \"./styles/popUp.css\"\r\nimport \"./styles/footer.css\"\r\nimport \"./styles/loadPage.css\"\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"))"],"sourceRoot":""}